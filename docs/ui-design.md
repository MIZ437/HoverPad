# HoverPad UI設計書

## 1. 画面一覧

| 画面ID | 画面名 | ファイル名 | 説明 |
|--------|--------|-----------|------|
| W001 | パネルウィンドウ | PanelWindow.xaml | オーバーレイボタンパネル |
| W002 | 設定画面 | SettingsWindow.xaml | メイン設定画面 |
| W003 | ボタン編集 | ButtonEditWindow.xaml | ボタン設定ダイアログ |
| W004 | アクション編集 | ActionEditWindow.xaml | アクション詳細設定 |
| - | トレイメニュー | (コード) | システムトレイ右クリックメニュー |

## 2. W001: パネルウィンドウ

### 2.1 ワイヤーフレーム

```
┌─────────────────────────────────────────┐
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐      │
│  │ 📝  │ │ 📋  │ │ 📂  │ │ 🌐  │      │
│  │メモ帳│ │コピー│ │フォルダ│ │ブラウザ│      │
│  └─────┘ └─────┘ └─────┘ └─────┘      │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐      │
│  │ ⌨️  │ │ 🔊  │ │ 🔇  │ │ ⏯️  │      │
│  │ペースト│ │音量+│ │ミュート│ │再生/停止│     │
│  └─────┘ └─────┘ └─────┘ └─────┘      │
│  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐      │
│  │ 💻  │ │ 🔧  │ │     │ │     │      │
│  │ターミナル│ │設定 │ │     │ │     │      │
│  └─────┘ └─────┘ └─────┘ └─────┘      │
└─────────────────────────────────────────┘
         ↑ ドラッグで移動可能
```

### 2.2 仕様

| 項目 | 値 |
|------|-----|
| ウィンドウスタイル | None（タイトルバーなし） |
| 背景 | 半透明（設定可能） |
| サイズ | ボタン数×サイズ＋Gap で自動計算 |
| 位置 | ドラッグ移動 or ホットキー時はカーソル位置 |
| Topmost | True（常に最前面） |
| ShowInTaskbar | False |

### 2.3 インタラクション

| 操作 | 動作 |
|------|------|
| 左クリック（ボタン） | アクション実行 |
| 右クリック（ボタン） | 編集メニュー表示 |
| 左ドラッグ（パネル背景） | パネル移動 |
| Escape | パネルを閉じる（動的モード時） |
| フォーカス喪失 | パネルを閉じる（動的モード・設定による） |

### 2.4 ボタン状態

```
┌─────────────────────────────────────────────────────────┐
│ 通常状態        ホバー状態        押下状態        トグルON │
│ ┌───────┐      ┌───────┐      ┌───────┐      ┌───────┐ │
│ │       │      │░░░░░░░│      │▓▓▓▓▓▓▓│      │■■■■■■■│ │
│ │  📝   │      │  📝   │      │  📝   │      │  📝   │ │
│ │       │      │       │      │       │      │       │ │
│ └───────┘      └───────┘      └───────┘      └───────┘ │
│ #3498DB        #5DADE2        #2980B9        #27AE60   │
└─────────────────────────────────────────────────────────┘
```

## 3. W002: 設定画面

### 3.1 ワイヤーフレーム

```
┌─────────────────────────────────────────────────────────────────┐
│ HoverPad 設定                                          [_][□][X]│
├─────────────────────────────────────────────────────────────────┤
│ ┌──────────────────┐ ┌─────────────────────────────────────────┐│
│ │ ◉ パネル         │ │                                         ││
│ │ ○ プロファイル   │ │  パネル一覧                              ││
│ │ ○ ホットキー     │ │  ┌─────────────────────────────────────┐││
│ │ ○ 一般設定       │ │  │ ▸ メインパネル     [編集] [削除]    │││
│ │                  │ │  │ ▸ サブパネル       [編集] [削除]    │││
│ │                  │ │  │                                     │││
│ │                  │ │  │              [+ 新規パネル]         │││
│ │                  │ │  └─────────────────────────────────────┘││
│ │                  │ │                                         ││
│ │                  │ │  選択中: メインパネル                   ││
│ │                  │ │  ┌─────────────────────────────────────┐││
│ │                  │ │  │  名前: [メインパネル        ]       │││
│ │                  │ │  │  行数: [3 ▼]  列数: [4 ▼]          │││
│ │                  │ │  │  モード: ○ 固定  ◉ 動的            │││
│ │                  │ │  │  ホットキー: [Ctrl+Shift+Space]     │││
│ │                  │ │  └─────────────────────────────────────┘││
│ │                  │ │                                         ││
│ │                  │ │  プレビュー:                            ││
│ │                  │ │  ┌─────────────────────────────────────┐││
│ │                  │ │  │ [btn][btn][btn][btn]                │││
│ │                  │ │  │ [btn][btn][btn][btn]                │││
│ │                  │ │  │ [btn][btn][btn][btn]                │││
│ │                  │ │  └─────────────────────────────────────┘││
│ └──────────────────┘ └─────────────────────────────────────────┘│
├─────────────────────────────────────────────────────────────────┤
│                                          [キャンセル] [保存]    │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 タブ構成

#### パネルタブ
- パネル一覧（追加/編集/削除）
- 選択パネルの基本設定
- ボタングリッドのプレビュー（クリックで編集画面へ）

#### プロファイルタブ
- プロファイル一覧
- 自動切替ルール設定
- インポート/エクスポート

#### ホットキータブ
- 登録済みホットキー一覧
- 競合検出表示
- ホットキー有効/無効切替

#### 一般設定タブ
- OS起動時に自動起動
- システムトレイに表示
- テーマ選択（Dark/Light）
- アニメーション設定

## 4. W003: ボタン編集画面

### 4.1 ワイヤーフレーム

```
┌──────────────────────────────────────────────────┐
│ ボタン編集                                   [X] │
├──────────────────────────────────────────────────┤
│                                                  │
│  基本設定                                        │
│  ├─ ラベル: [メモ帳                        ]    │
│  ├─ アイコン: [📝] [選択...] [絵文字] [画像]    │
│  └─ プレビュー: ┌─────┐                         │
│                 │ 📝  │                         │
│                 │メモ帳│                         │
│                 └─────┘                         │
│                                                  │
│  スタイル                                        │
│  ├─ 背景色: [■ #3498DB] [選択...]              │
│  ├─ 文字色: [■ #FFFFFF] [選択...]              │
│  └─ トグルボタン: ☐                            │
│                                                  │
│  アクション                                      │
│  ┌──────────────────────────────────────────┐   │
│  │ 1. ホットキー: Ctrl+C         [↑][↓][✕]  │   │
│  │ 2. 遅延: 100ms                [↑][↓][✕]  │   │
│  │                                          │   │
│  │              [+ アクション追加]          │   │
│  └──────────────────────────────────────────┘   │
│                                                  │
├──────────────────────────────────────────────────┤
│                    [キャンセル] [保存]           │
└──────────────────────────────────────────────────┘
```

## 5. W004: アクション編集画面

### 5.1 ワイヤーフレーム

```
┌──────────────────────────────────────────────────┐
│ アクション編集                               [X] │
├──────────────────────────────────────────────────┤
│                                                  │
│  アクションタイプ:                               │
│  ┌────────────────────────────────────────────┐ │
│  │ ◉ ホットキー送信    ○ テキスト入力        │ │
│  │ ○ アプリ/URL/フォルダを開く               │ │
│  │ ○ コマンド実行      ○ システム制御        │ │
│  └────────────────────────────────────────────┘ │
│                                                  │
│  ─────────────────────────────────────────────  │
│                                                  │
│  【ホットキー送信の場合】                        │
│  キー入力: [                              ]     │
│            ↳ 入力欄をクリックしてキーを押す     │
│                                                  │
│  現在のキー: Ctrl + Shift + C                   │
│                                                  │
│  ─────────────────────────────────────────────  │
│                                                  │
│  次アクションまでの遅延: [0     ] ms            │
│                                                  │
├──────────────────────────────────────────────────┤
│                    [キャンセル] [OK]             │
└──────────────────────────────────────────────────┘
```

### 5.2 アクションタイプ別入力フォーム

| タイプ | 入力項目 |
|--------|---------|
| ホットキー | キーコンビネーション入力 |
| テキスト | テキストエリア、入力モード選択 |
| アプリ/URL | パス入力、ファイル選択、引数、管理者実行 |
| コマンド | コマンド入力、ウィンドウ表示、待機 |
| システム | アクション選択（音量、メディア等） |

## 6. システムトレイメニュー

```
┌─────────────────────────┐
│ ▸ パネル表示            │
│   ├ メインパネル        │
│   └ サブパネル          │
├─────────────────────────┤
│ ✓ 起動時に開始          │
│   ホットキー有効        │
├─────────────────────────┤
│   設定...               │
├─────────────────────────┤
│   終了                  │
└─────────────────────────┘
```

## 7. カラーパレット

### ダークテーマ（デフォルト）

| 用途 | カラー | HEX |
|------|--------|-----|
| 背景（プライマリ） | ダークグレー | #1E1E1E |
| 背景（セカンダリ） | チャコール | #2D2D2D |
| パネル背景 | ダークスレート | #2C3E50 |
| ボタンデフォルト | ブルー | #3498DB |
| ボタンホバー | ライトブルー | #5DADE2 |
| アクセント | グリーン | #27AE60 |
| テキスト | ホワイト | #FFFFFF |
| テキスト（サブ） | グレー | #BDC3C7 |
| エラー | レッド | #E74C3C |

### ライトテーマ

| 用途 | カラー | HEX |
|------|--------|-----|
| 背景（プライマリ） | ホワイト | #FFFFFF |
| 背景（セカンダリ） | ライトグレー | #F5F5F5 |
| パネル背景 | ホワイトスモーク | #ECEFF1 |
| ボタンデフォルト | ブルー | #2196F3 |
| テキスト | ダーク | #212121 |

## 8. アイコン仕様

| 用途 | サイズ | 形式 |
|------|--------|------|
| ボタンアイコン | 32x32, 48x48 | PNG/SVG/絵文字 |
| トレイアイコン | 16x16, 32x32 | ICO |
| ウィンドウアイコン | 16x16, 32x32 | ICO |

## 9. アニメーション

| 対象 | 効果 | 時間 |
|------|------|------|
| パネル表示 | フェードイン | 150ms |
| パネル非表示 | フェードアウト | 100ms |
| ボタンホバー | 背景色変化 | 100ms |
| ボタン押下 | スケール(0.95) | 50ms |

## 10. レスポンシブ対応

- パネルサイズはグリッド設定に基づき自動計算
- 設定画面は最小サイズ 800x600
- 高DPI対応（スケーリング自動適用）
